const CONFIG={BASE_URL:window.location.origin,STAR_COUNT:100},themeToggle=document.querySelector("#theme-toggle"),currentTheme=localStorage.getItem("theme");currentTheme==="dark"?document.body.classList.add("dark-theme"):currentTheme==="light"&&document.body.classList.add("light-theme"),themeToggle.addEventListener("click",()=>{let e;document.body.classList.contains("dark-theme")?(document.body.classList.remove("dark-theme"),document.body.classList.add("light-theme"),e="light"):document.body.classList.contains("light-theme")?(document.body.classList.remove("light-theme"),document.body.classList.add("dark-theme"),e="dark"):window.matchMedia("(prefers-color-scheme: dark)").matches?(document.body.classList.add("light-theme"),e="light"):(document.body.classList.add("dark-theme"),e="dark"),localStorage.setItem("theme",e)});const items=document.querySelectorAll(".appear"),active=e=>{e.forEach(t=>t.isIntersecting?t.target.classList.add("inview"):t.target.classList.remove("inview"))},io=new IntersectionObserver(active);items.forEach(e=>io.observe(e));const body=document.getElementById("body");let showSidebar=!1;const backdrop=document.getElementById("backdrop"),menuBtn=document.getElementById("menu-btn"),sidebar=document.getElementById("sidebar"),displayLevel1SidebarContent=()=>{const e=document.querySelector(".level1"),t=document.querySelectorAll(".level2");e.classList.remove("hidden"),t.forEach(n=>n.classList.remove("active"))},toggleSidebar=()=>{menuBtn.classList.toggle("active"),showSidebar=!showSidebar,showSidebar?(sidebar.dataset.show="true",sidebar.setAttribute("aria-hidden","false"),backdrop.style.display="block",document.body.style.overflowY="hidden",document.body.style.height="100vh"):(sidebar.dataset.show="false",sidebar.setAttribute("aria-hidden","true"),backdrop.style.display="none",document.body.style.height="auto",document.body.style.overflowY="auto",displayLevel1SidebarContent())};backdrop.addEventListener("click",toggleSidebar),menuBtn.addEventListener("click",toggleSidebar),document.addEventListener("keydown",e=>{e.key==="Escape"&&showSidebar&&toggleSidebar()}),document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelectorAll(".toggle-btn"),t=document.querySelector(".nav-slider"),n=document.querySelectorAll(".tab-content"),o=s=>{const c=e[s].getAttribute("data-target");t.style.transform="translateX("+s*100+"%)",e.forEach(a=>{a.classList.remove("active")}),e[s].classList.add("active"),n.forEach(a=>{a.id===c+"-content"?(a.classList.remove("hidden"),a.scrollIntoView({behavior:"auto",block:"start"})):a.classList.add("hidden")})};e.forEach((s,c)=>{s.addEventListener("click",()=>{o(c)})})}),document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelectorAll(".nav-item"),t=document.querySelectorAll(".back-button"),n=document.querySelector(".level1");e.forEach(o=>{o.addEventListener("click",()=>{const s=o.getAttribute("data-target"),c=document.getElementById(s);c&&(n.classList.add("hidden"),c.classList.add("active"))})}),t.forEach(o=>{o.addEventListener("click",displayLevel1SidebarContent)})});const initStars=()=>{const e=document.getElementById("stars-container");for(let t=0;t<CONFIG.STAR_COUNT;t++){const n=document.createElement("div");n.className="star";const o=Math.random()*100,s=Math.random()*100,c=Math.random()*3+2,a=Math.random()*5,d=Math.random()*2+1;Object.assign(n.style,{left:`${o}%`,top:`${s}%`,width:`${d}px`,height:`${d}px`,animationDuration:`${c}s`,animationDelay:`${a}s`}),e.appendChild(n)}};document.addEventListener("DOMContentLoaded",initStars);let touchstartX=0,touchendX=0;const swipeContainer=document.querySelector("#swipe-container"),handleGesture=()=>{const t=document.querySelector(".toggle-btn.active");if(!t)return;const n=Array.from(document.querySelectorAll(".toggle-btn")),o=n.indexOf(t);touchendX+50<touchstartX&&o<n.length-1&&n[o+1].click(),touchendX>touchstartX+50&&o>0&&n[o-1].click()};swipeContainer.addEventListener("touchstart",e=>{touchstartX=e.changedTouches[0].screenX},{passive:!0}),swipeContainer.addEventListener("touchend",e=>{touchendX=e.changedTouches[0].screenX,handleGesture()},{passive:!0});
